# BOJ. 1562 ê³„ë‹¨ ìˆ˜

<aside>
ğŸš¨ **ë¬¸ì œ ì¶œì²˜**

[BOJ. 1562 ê³„ë‹¨ ìˆ˜](https://www.acmicpc.net/problem/1562)

</aside>

<aside>
ğŸ“– ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜

- ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°
- ë¹„íŠ¸ë§ˆìŠ¤í‚¹
- ë¹„íŠ¸í•„ë“œë¥¼ ì´ìš©í•œ ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°
</aside>

<aside>
âœ… **ë¹„ìŠ·í•œ ë¬¸ì œ**

- [BOJ. 2098 ì™¸íŒì› ìˆœíšŒ](https://www.acmicpc.net/problem/2098)
</aside>

<aside>
ğŸ“– **ë¬¸ì œ ì•„ì´ë””ì–´**

- ì–´ë µë‹¤.
- **ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì„ ì´ìš©í•´ì„œ ì‚¬ìš©í•œ ìˆ«ìë¥¼ ì²´í¬**
- `DP[ìë¦¿ìˆ˜][ë§ˆì§€ë§‰ ìë¦¿ìˆ˜][ì‚¬ìš©í•œ ìˆ«ì]`ìˆœì„œë¡œ ë°°ì—´ì„ ì„ ì–¸í•œë‹¤. ë‹¨, `ìë¦¿ìˆ˜ = 1` ì¼ ë•ŒëŠ” ì¼ì˜ ìë¦¿ìˆ˜ê°€ ì•„ë‹Œ ì œì¼ ì•ì˜ ìë¦¿ìˆ˜ë¥¼ ëœ»í•œë‹¤.
- `DP[n][k][visit]` í˜•íƒœë¡œ `Bottom-Up` ë°©ë²•ì„ ì‚¬ìš©
    
    ```java
    DP[1][1][0,000,000,010] = 1 -> ì²« ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ 1ì¸ ê²½ìš°ì˜ ìˆ˜ëŠ” 1ê°€ì§€
    DP[1][2][0,000,000,100] = 1 -> ì²« ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ 2ì¸ ê²½ìš°ì˜ ìˆ˜ëŠ” 1ê°€ì§€
    ...
    DP[1][9][1,000,000,000] = 1 -> ì²« ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ 9ì¸ ê²½ìš°ì˜ ìˆ˜ëŠ” 1ê°€ì§€
    ```
    
- ìœ„ì˜ DPë°°ì—´ì˜ ì„¤ì •ì„ ì´í•´í•˜ê³  ê³„ë‹¨ ìˆ˜ì˜ íŠ¹ì§•ì„ ì˜ ìƒê°í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì í™”ì‹ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    DP[N][K][visit | (1 << K)] = DP[N - 1][K - 1][visit] + DP[N - 1][K + 1][visit];
    
    Në²ˆì§¸ ìë¦¿ìˆ˜ê°€ Kë¡œ ëë‚˜ëŠ” ê²½ìš°ì˜ ìˆ˜ = (N - 1)ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ (K - 1)ë¡œ ëë‚˜ëŠ” ê²½ìš°ì˜ ìˆ˜ + (N - 1)ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ (K + 1)ë¡œ ëë‚˜ëŠ” ê²½ìš°ì˜ ìˆ˜
    
    ==========ì í™”ì‹ ì„¤ëª…==========
    
    visitì€ í˜„ì¬ê¹Œì§€ ì‚¬ìš©í•œ ìˆ«ìë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
    (1 << K)ëŠ” Në²ˆì§¸ ìë¦¿ìˆ˜ë¡œ Kë¥¼ ì‚¬ìš©í–ˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.
    
    ì˜ˆë¥¼ ë“¤ì–´ N = 6, K = 5ì´ê³  visitì´ 0,000,011,100 ì´ì—ˆë‹¤ë©´
    5ë²ˆì§¸ ìë¦¿ìˆ˜ê¹Œì§€ëŠ” 2, 3, 4ë¥¼ ì‚¬ìš©í•´ì„œ ê³„ë‹¨ ìˆ˜ë¥¼ ë§Œë“¤ê³  6ë²ˆì§¸ ìë¦¿ìˆ˜ëŠ” 5ë¥¼ ì´ìš©í•´ì„œ ê³„ë‹¨ ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë¯€ë¡œ
    ìë¦¿ìˆ˜ = 6, ë§ˆì§€ë§‰ ìë¦¿ìˆ˜ = 5ì´ê³  newVisit = 0,000,111,100ì´ ë˜ì–´ì•¼ í•œë‹¤. (newVisit = visit | (1 << K))
    
    ê·¸ë¦¬ê³  **newVisitì€ visitê³¼ (1 << K)ì˜ orì—°ì‚°**ìœ¼ë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤.
    
    visit = 0,000,011,100, (1 << K) = 0,000,100,000 ì´ë¯€ë¡œ
    		 0,000,011,100
    	or 0,000,100,000
    	 = 0,000,111,100 ì´ë¯€ë¡œ 2, 3, 4, 5ë¥¼ ì‚¬ìš©í–ˆìŒì„ ë‚˜íƒ€ë‚´ê³ 
    	DP[N][K][visit | (1 << K)] = DP[6][5][0,000,111,100]ì´ ë˜ë¯€ë¡œ 6ë²ˆì§¸ ìë¦¿ìˆ˜ê°€ 5ì´ê³  2, 3, 4, 5ë¥¼ ì‚¬ìš©í•´ ë§Œë“  ê³„ë‹¨ ìˆ˜ë¼ëŠ” ëœ»ì´ë‹¤.
    ```
    
</aside>

<aside>
âŒ¨ï¸ **ì½”ë“œ**

</aside>

- ì „ì²´ ì½”ë“œ
    
    ```java
    public class BOJ_1562__ê³„ë‹¨_ìˆ˜ {
    
    	static int N;	// ê¸¸ì´
    	static long[][][] dp;
    	static final int mod = 1_000_000_000;
    	static long ans;
    	
    	public static void main(String[] args) throws NumberFormatException, IOException {
    		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    		
    		N = Integer.parseInt(br.readLine());
    		dp = new long[N + 1][10][(1 << 10)];
    		
    		// ì²«ë²ˆì§¸ ìë¦¬ ìˆ«ìê°€ kì¸ ê²½ìš°ì˜ ìˆ˜ëŠ” 1
    		// (1 << k) ì—°ì‚°ìœ¼ë¡œ ì‚¬ìš©í•œ ìˆ«ì ì²´í¬
    		for (int k = 1; k <= 9; k++)
    			dp[1][k][1 << k] = 1;
    		
    		for (int n = 2; n <= N; n++) {
    			for (int k = 0; k <= 9; k++) {
    				for (int visit = 0; visit < (1 << 10); visit++) {
    					
    					if (k == 0)
    						dp[n][k][visit | (1 << k)] += dp[n - 1][k + 1][visit] % mod;
    					else if (k == 9)
    						dp[n][k][visit | (1 << k)] += dp[n - 1][k - 1][visit] % mod;
    					else
    						dp[n][k][visit | (1 << k)] += dp[n - 1][k - 1][visit] % mod + dp[n - 1][k + 1][visit] % mod;
    					
    					dp[n][k][visit | (1 << k)] %= mod;
    				}
    			}
    		}
    		
    		for (int i = 0; i <= 9; i++) {
    			ans += (dp[N][i][(1 << 10) - 1] % mod);
    			ans %= mod;
    		}
    		
    		System.out.println(ans);
    	}	// main
    }
    ```
